<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<div th:fragment="header">
    <header style="padding: 10px; background: #eee;">
        <span sec:authorize="isAnonymous()">
            <a th:href="@{/login}">Login</a>
            <a th:href="@{/register}">Register</a>
        </span>

        <span sec:authorize="isAuthenticated()">
        <div>
            <a href="/" style="margin-right: 20px;">Main</a>
        </div>

        <div>
            <span th:text="${#authentication.name}">Username</span>

            <a th:href="@{/profile/{id}-{login}(id=${#authentication.principal.id}, login=${#authentication.principal.login})}"
               style="margin-left: 15px;">Profile</a>

            <form th:action="@{/logout}" method="post" style="display:inline;">
                <button type="submit" style="margin-left: 15px;">Exit</button>
            </form>
        </div>
        </span>
    </header>
</div>